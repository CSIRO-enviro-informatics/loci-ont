# baseURI: https://linked.data.gov.au/def/loci/shacl
# imports: http://datashapes.org/dash
# imports: http://linked.data.gov.au/def/loci
# imports: http://purl.org/dc/terms/

@prefix dash: <http://datashapes.org/dash#> .
@prefix data: <http://linked.data.gov.au/def/datatype/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix geo: <http://www.opengis.net/ont/geosparql#> .
@prefix geox: <http://linked.data.gov.au/def/geox#> .
@prefix loci: <http://linked.data.gov.au/def/loci#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

loci:Feature
  a sh:NodeShape ;
  rdfs:comment "A Loc-I Feature is a GeoSPARQL Feature that has at least one Geometry, one persistent identifier, and is a member of a loci:Dataset" ;
  rdfs:label "Loc-I Feature" ;
  sh:property [
      a sh:PropertyShape ;
      sh:path loci:isMemberOf ;
      sh:class loci:Dataset ;
      sh:description "link to the registered dataset of which this is a member" ;
      sh:minCount 1 ;
      sh:name "is member of" ;
      sh:nodeKind sh:IRI ;
    ] ;
  sh:property [
      a sh:PropertyShape ;
      sh:path dcterms:identifier ;
      sh:description """Persistent identifier for the Feature. 
Usually maintained by the dataset custodian. """ ;
      sh:minCount 1 ;
      sh:name "identifier" ;
      sh:nodeKind sh:Literal ;
    ] ;
  sh:property [
      a sh:PropertyShape ;
      sh:path dcterms:type ;
      sh:class skos:Concept ;
      sh:description "Feature classification, taken from a controlled-vocabulary" ;
      sh:name "type" ;
      sh:nodeKind sh:IRI ;
    ] ;
  sh:property [
      a sh:PropertyShape ;
      sh:path geo:hasGeometry ;
      sh:class geo:Geometry ;
      sh:description "Link to a description of a georeferenced geometry associated with this feature " ;
      sh:minCount 1 ;
      sh:name "has geometry" ;
    ] ;
  sh:property [
      a sh:PropertyShape ;
      sh:path geo:sfContains ;
      sh:class geo:Feature ;
      sh:description "topological relationships from Loc-I features are only to other *features*" ;
      sh:name "contains" ;
      sh:nodeKind sh:IRI ;
    ] ;
  sh:property [
      a sh:PropertyShape ;
      sh:path geo:sfOverlaps ;
      sh:class geo:Feature ;
      sh:description "topological relationships from Loc-I features are only to other *features*" ;
      sh:name "overlaps" ;
      sh:nodeKind sh:IRI ;
    ] ;
  sh:property [
      a sh:PropertyShape ;
      sh:path geo:sfWithin ;
      sh:class geo:Feature ;
      sh:description "topological relationships from Loc-I features are only to other *features*" ;
      sh:name "within" ;
      sh:nodeKind sh:IRI ;
    ] ;
  sh:property [
      a sh:PropertyShape ;
      sh:path rdfs:label ;
      sh:description "Feature name" ;
      sh:name "name or label" ;
    ] ;
  sh:targetClass geo:Feature ;
.
<https://linked.data.gov.au/def/loci/shacl>
  a owl:Ontology ;
  dcterms:created "2020-02-27" ;
  dcterms:creator <https://orcid.org/0000-0002-3884-3420> ;
  dcterms:description "This SHACL graph defines validation rules for a Loc-I conformant dataset" ;
  dcterms:license <https://creativecommons.org/licenses/by/4.0/> ;
  dcterms:modified "2020-02-27" ;
  dcterms:title "Loc-I conformance tests (SHACL graph)" ;
  owl:imports <http://datashapes.org/dash> ;
  owl:imports <http://linked.data.gov.au/def/loci> ;
  owl:imports dcterms: ;
  owl:versionInfo "Created with TopBraid Composer" ;
.
