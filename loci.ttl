# baseURI: http://linked.data.gov.au/def/loci
# imports: http://purl.org/dc/elements/1.1/
# imports: http://vocab.deri.ie/void
# imports: http://www.opengis.net/ont/geosparql
# imports: http://www.w3.org/2006/time
# prefix: loci

@prefix cdt: <http://w3id.org/lindt/custom_datatypes#> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix geo: <http://www.opengis.net/ont/geosparql#> .
@prefix loci: <http://linked.data.gov.au/def/loci#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sdo: <https://schema.org/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix void: <http://rdfs.org/ns/void#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://linked.data.gov.au/def/loci>
  a owl:Ontology ;
  dcterms:contributor <https://orcid.org/0000-0002-9265-6941> ;
  dcterms:created "2018-10-29"^^xsd:date ;
  dcterms:creator <https://orcid.org/0000-0002-3884-3420> ;
  dcterms:creator <https://orcid.org/0000-0002-8742-7730> ;
  dcterms:license <https://creativecommons.org/publicdomain/zero/1.0/> ;
  dcterms:modified "2021-04-15"^^xsd:date ;
  rdfs:comment """An ontology to govern Linked Data resources published within the [Loc-I](https://confluence.csiro.au/display/DIPAAnalyticHubs/Location+Integration+Capability+Loc-I) project.

The primary focus is on (a) datasets composed of multiple geospatial features (objects); (b) recording relationships between features, with metadata attached to Linking Statements. """ ;
  rdfs:label "Loc-I Ontology" ;
  owl:imports <http://purl.org/dc/elements/1.1/> ;
  owl:imports <http://vocab.deri.ie/void> ;
  owl:imports <http://www.opengis.net/ont/geosparql> ;
  owl:imports <http://www.w3.org/2006/time> ;
  owl:versionIRI <https://linked.data.gov.au/def/loci/2.0> ;
  owl:versionInfo "2.0 alpha"@en ;
  skos:changeNote "2021-02-24 - revise relationship predicates - 1. basic relations contains, isWithin, isDisjointWith, isEquivalentTo 2. super-property sfRelation " ;
  skos:changeNote "2021-03-25 - Temporal tags - entityLifecycle for details of the thing in the world; recordLifecycle for details of the linked-data-representation" ;
  skos:changeNote "2021-03-25 - simple loci:hasArea property whose value is a structured literal (cdt:ucum)" ;
  skos:changeNote "2021-04-15 - Update version information to 2.0 alpha" ;
  sdo:codeRepository <https://github.com/CSIRO-enviro-informatics/loci-ont> ;
.
loci:Dataset
  a owl:Class ;
  rdfs:subClassOf void:Dataset ;
  rdfs:subClassOf rdf:Bag ;
  rdfs:subClassOf dcat:Dataset ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:cardinality "1"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:license ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:minCardinality "1"^^xsd:nonNegativeInteger ;
      owl:onProperty rdfs:member ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:minCardinality "1"^^xsd:nonNegativeInteger ;
      owl:onProperty dcat:contactPoint ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:onClass sdo:Organization ;
      owl:onProperty dcterms:publisher ;
      owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:onDataRange xsd:date ;
      owl:onProperty dcterms:issued ;
      owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:onDataRange xsd:date ;
      owl:onProperty dcterms:modified ;
      owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:onDataRange xsd:string ;
      owl:onProperty dcterms:title ;
      owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    ] ;
  skos:definition "A Loc-I Dataset is a DCAT and VOID Dataset that has been accepted by the Loc-I Registry Manager."@en ;
  skos:editorialNote "Membership of a loci:Dataset is (a) geo:Feature (Loc-I conformant) (b) loci:LinkingStatement (c) related types, such as PlaceNames"@en ;
  skos:prefLabel "Loc-I Dataset"@en ;
  sdo:codeRepository <https://github.com/CSIRO-enviro-informatics/loci-ont> ;
.
loci:Feature
  a owl:Class ;
  dcterms:description "A Loc-I Feature is a GeoSPARQL Feature that has at least one Geometry, one persistent identifier, and is a member of a loci:Dataset" ;
  rdfs:comment "Should be implemented as a SHACL shape" ;
  rdfs:label "Loc-I Feature" ;
  rdfs:subClassOf geo:Feature ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:allValuesFrom geo:Feature ;
      owl:onProperty loci:contains ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:allValuesFrom geo:Feature ;
      owl:onProperty loci:isWithin ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:minCardinality "1"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:identifier ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
      owl:onClass loci:Dataset ;
      owl:onProperty loci:isMemberOf ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
      owl:onClass geo:Geometry ;
      owl:onProperty geo:hasGeometry ;
    ] ;
.
loci:Lifecycle
  a owl:Class ;
  rdfs:label "lifecycle information" ;
  rdfs:subClassOf time:Interval ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:isReplacedBy ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:modified ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:minCardinality "0"^^xsd:nonNegativeInteger ;
      owl:onProperty dcterms:replaces ;
    ] ;
.
loci:LinkingStatement
  a owl:Class ;
  rdfs:comment "An RDF Statement (Subject, Predicate, Object + additional metadata) that links class instances in one Loc-I Dataset with class instances in another"@en ;
  rdfs:comment "Note that a LinkingStatement has (1) a validity interval, with a beginning and end which gives the period that the link or relationship between features applied and (2) a creation and rretirement date when the statement (information) was recorded and replaced. We're into some cool meta-modeling here folks. " ;
  rdfs:comment "The validity period of the linkingStatement must be within the validity period of both subject and object features" ;
  rdfs:label "Loc-I Dataset Linking Statement" ;
  rdfs:subClassOf rdf:Statement ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:allValuesFrom loci:Feature ;
      owl:onProperty rdf:object ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:allValuesFrom loci:Feature ;
      owl:onProperty rdf:subject ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:cardinality "1"^^xsd:nonNegativeInteger ;
      owl:onProperty rdf:object ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:cardinality "1"^^xsd:nonNegativeInteger ;
      owl:onProperty rdf:subject ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:minCardinality "1"^^xsd:nonNegativeInteger ;
      owl:onProperty rdf:predicate ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:onClass loci:Linkset ;
      owl:onProperty loci:isMemberOf ;
      owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    ] ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:onClass prov:Plan ;
      owl:onProperty loci:hadGenerationMethod ;
      owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    ] ;
  skos:editorialNote "A separate date of creation may be useful in some scenarios" ;
  skos:editorialNote "Do we need to specify what values may be used for rdf:predicate (for LOCI)" ;
  skos:editorialNote "End of validity usually corresponds to the valid-date of the replacement statement. **What if the statement is retired with no replacement?**" ;
  skos:example """my:Link89
  rdf:type loci:LinkingStatement ;
  loci:createdDate \"2021-02-17\"^^xsd:date ;
  loci:hadGenerationMethod my:manual-inspection ;
  loci:isMemberOf my:Linkset34 ;
  loci:retiredDate \"2021-02-19\"^^xsd:date ;
  loci:valid [
      rdf:type time:Interval ;
      time:hasBeginning my:t-89 ;
      time:hasEnd my:t89-56 ;
    ] ;
  dct:isReplacedBy my:Link56 ;
  rdf:object my:Feature67 ;
  rdf:predicate loci:isWithin ;
  rdf:subject my:Feature78 ;
  rdfs:comment \"This is an example where the replacement link starts later. This would correspond to changes in-the-world.\" ;
.

my:Link89_1
  rdf:type loci:LinkingStatement ;
  loci:createdDate \"2021-02-17\"^^xsd:date ;
  loci:hadGenerationMethod my:manual-inspection ;
  loci:isMemberOf my:Linkset34 ;
  loci:retiredDate \"2021-02-19\"^^xsd:date ;
  loci:valid [
      rdf:type time:Interval ;
      time:hasBeginning my:t-89 ;
      time:hasEnd my:t-89 ;
    ] ;
  dct:isReplacedBy my:Link56_1 ;
  rdf:object my:Feature67 ;
  rdf:predicate loci:isWithin ;
  rdf:subject my:Feature78 ;
  rdfs:comment \"This is an example where the replacement link has the same start-date. This corresponds to a change of knowledge?\" ;
.""" ;
.
loci:Linkset
  a owl:Class ;
  rdfs:subClassOf loci:Dataset ;
  rdfs:subClassOf void:Linkset ;
  rdfs:subClassOf [
      a owl:Restriction ;
      owl:allValuesFrom loci:LinkingStatement ;
      owl:onProperty rdfs:member ;
    ] ;
  owl:equivalentClass [
      a owl:Restriction ;
      owl:allValuesFrom loci:Dataset ;
      owl:onProperty void:objectsTarget ;
    ] ;
  owl:equivalentClass [
      a owl:Restriction ;
      owl:allValuesFrom loci:Dataset ;
      owl:onProperty void:subjectsTarget ;
    ] ;
  skos:definition "A Loc-I Linkset is a specialised form of a VoID Linkset that requires the void:subjectsTarget & void:objectsTarget indicate Loc-I Datasets"@en ;
  skos:prefLabel "Loc-I Linkset"@en ;
.
loci:contains
  a owl:ObjectProperty ;
  rdfs:comment """This predicate provides a convenient generalized or super-property-of containment relations with more specialized semantics. It may be useful in formulating some generalized SPARQL queries where any kind of containment relationship is intended. 

Note that this property is **not transitive** though some sub-properties may be.""" ;
  rdfs:domain geo:SpatialObject ;
  rdfs:label "contains" ;
  rdfs:range geo:SpatialObject ;
  rdfs:subPropertyOf dcterms:hasPart ;
  skos:definition "The context resource contains the target resource, in some geospatial, logical, ownership, governance, jurisidictional or compositional sense. " ;
  skos:scopeNote """The LOCI relationships `contains` and `isWithin` are intended to be used for relationships between LOCI features within the same dataset. 
Care should be taken for relationships between features from different datasets, including different versions (e.g. different dates) of the same theme. 

LOCI Linking Statements provide a richer mechanisms for relationships between features from different datasets, including temporal scope. """ ;
.
loci:entityLifecycle
  a owl:ObjectProperty ;
  rdfs:comment "Information about the lifecycle of this Dataset, Location (feature) or Linking-Statement" ;
  rdfs:domain [
      a owl:Class ;
      owl:unionOf (
          loci:Feature
          loci:Dataset
          loci:LinkingStatement
        ) ;
    ] ;
  rdfs:label "lifecycle of this resource" ;
  rdfs:range time:Interval ;
.
loci:hadGenerationMethod
  a owl:ObjectProperty ;
  dcterms:description "The method that was used to generate this Linking Statement"@en ;
  rdfs:domain loci:LinkingStatement ;
  rdfs:label "had generation method" ;
  rdfs:range prov:Plan ;
  owl:propertyChainAxiom (
      prov:wasGeneratedBy
      prov:qualifiedAssociation
      prov:hadPlan
    ) ;
  skos:editorialNote "This property is a property chain axiom equivalent to a chain of three properties in the PROV ontology: prov:wasGeneratedBy, prov:qualifiedAssociation and prov:hadPlan linking a prov:Entity (the thing generated) to a prov:Plan (the thin instruction generation - the method) via a prov:Activity (the generating event) and a prov:Association that the prov:Activity has linking it to the prov:Plan."@en ;
.
loci:hasArea
  a owl:DatatypeProperty ;
  rdfs:comment """This version of the 'has area' property allows the size to be encoded in compact form as a structured literal. 

Area is an important property of Loc-I features, used in some re-apportionment algorithms. """ ;
  rdfs:domain loci:Feature ;
  rdfs:label "Area of spatial feature (entity)" ;
  rdfs:range cdt:ucum ;
  skos:example "<> loci:hasArea \"48941.9 km2\"^^cdt:ucum ." ;
.
loci:isDisjointWith
  a owl:ObjectProperty ;
  rdfs:domain geo:SpatialObject ;
  rdfs:label "is disjoint with" ;
  rdfs:range geo:SpatialObject ;
  rdfs:subPropertyOf dcterms:relation ;
  skos:definition "The target resource does not touch or intersect with the context resource" ;
.
loci:isEquivalentTo
  a owl:ObjectProperty ;
  dcterms:description """The target resource is intended to represent the same real-world entity as the context resource
""" ;
  rdfs:domain geo:SpatialObject ;
  rdfs:label "is equivalent to" ;
  rdfs:range geo:SpatialObject ;
  rdfs:subPropertyOf dcterms:relation ;
  skos:definition "The target resource is intended to represent the same real-world entity as the context resource" ;
  skos:narrowMatch dcterms:hasFormat ;
  skos:narrowMatch dcterms:hasVersion ;
  skos:narrowMatch dcterms:isFormatOf ;
  skos:narrowMatch dcterms:isVersionOf ;
  skos:scopeNote """This property is used to relate an individual feature from one geography or dataset with a feature from another geography or dataset which is intended to represent the same real-world entity.
Use of loci:equivalent would allow representations using slightly different geometrical bases (e.g. surveyed geometries, aggregates of DGGS cells, aggregates of ASGS meshblocks) to be linked, in situations where a purely geometrical computation might not deduce a `geo:sfEquals` relationships because of differing precision, slivers, etc,. When the data provider's intention is that they match, then this predicate can be used to make that assertion. The provenance of the assertion maybe be recorded in the usual way in a link-set.""" ;
.
loci:isMemberOf
  a owl:ObjectProperty ;
  dcterms:description "The context resource is a member of the target resource (a collection, aggregate or composite)" ;
  rdfs:label "is member of" ;
  rdfs:range loci:Dataset ;
  rdfs:subPropertyOf dcterms:isPartOf ;
  rdfs:subPropertyOf [
      a owl:ObjectProperty ;
      owl:inverseOf rdfs:member ;
    ] ;
.
loci:isWithin
  a owl:ObjectProperty ;
  rdfs:comment """This predicate provides a convenient generalized or super-property-of contained-by and aggregates to relations with more specialized semantics. It may be useful in formulating some generalized SPARQL queries where any kind of containment relationship is intended. 

Note that this property is **not transitive** though some sub-properties may be.""" ;
  rdfs:domain geo:SpatialObject ;
  rdfs:label "is within" ;
  rdfs:range geo:SpatialObject ;
  rdfs:subPropertyOf dcterms:isPartOf ;
  owl:inverseOf loci:contains ;
  skos:definition "The context resource is within or is part of the target resource, in some geospatial, logical, ownership, governance, jurisidictional or compositional sense. " ;
  skos:scopeNote """The LOCI relationships `contains` and `isWithin` are intended to be used for relationships between LOCI features within the same dataset. 
Care should be taken for relationships between features from different datasets, including different versions (e.g. different dates) of the same theme. 

LOCI Linking Statements provide a richer mechanisms for relationships between features from different datasets, including temporal scope. """ ;
.
loci:recordLifecycle
  a owl:ObjectProperty ;
  rdfs:comment "Information about the lifecycle of this record about a Location (feature) or Linking-Statement" ;
  rdfs:domain [
      a owl:Class ;
      owl:unionOf (
          loci:Feature
          loci:Dataset
          loci:LinkingStatement
        ) ;
    ] ;
  rdfs:label "lifecycle of this record" ;
  rdfs:range time:Interval ;
.
loci:sfRelation
  a owl:ObjectProperty ;
  rdfs:comment "Superset of all the sf* properties from GeoSPARQL" ;
  rdfs:label "sf Relation" ;
  rdfs:subPropertyOf dcterms:relation ;
.
dcterms:type
  a owl:ObjectProperty ;
  skos:definition """In the context of Loc-I datasets, `dcterms:type` is used for an additional classifier, such as a place-type or meshblock-category. 

The value should be taken from a controlled-vocabulary, and may be expressed as a `skos:Concept` or an `rdfs:Class` or some other kind of resource providing it is from a well-governed source."""@en ;
  skos:prefLabel "type"@en ;
.
geo:sfContains
  rdfs:subPropertyOf loci:contains ;
  rdfs:subPropertyOf loci:sfRelation ;
.
geo:sfCrosses
  rdfs:subPropertyOf loci:sfRelation ;
.
geo:sfDisjoint
  rdfs:subPropertyOf loci:isDisjointWith ;
  rdfs:subPropertyOf loci:sfRelation ;
.
geo:sfEquals
  rdfs:subPropertyOf loci:isEquivalentTo ;
  rdfs:subPropertyOf loci:sfRelation ;
.
geo:sfIntersects
  rdfs:subPropertyOf loci:sfRelation ;
.
geo:sfOverlaps
  rdfs:subPropertyOf loci:sfRelation ;
.
geo:sfTouches
  rdfs:subPropertyOf loci:sfRelation ;
.
geo:sfWithin
  rdfs:subPropertyOf loci:isWithin ;
  rdfs:subPropertyOf loci:sfRelation ;
.
<https://orcid.org/0000-0002-3884-3420>
  a sdo:Person ;
  sdo:affiliation [
      sdo:identifier "http://catalogue.linked.data.gov.au/org/csiro"^^xsd:anyURI ;
      sdo:name "CSIRO" ;
    ] ;
  sdo:email <mailto:simon.cox@csiro.au> ;
  sdo:identifier "https://orcid.org/0000-0002-3884-3420"^^xsd:anyURI ;
  sdo:name "Simon J D Cox" ;
  sdo:subjectOf <https://people.csiro.au/C/S/simon-cox> ;
.
<https://orcid.org/0000-0002-4643-7289>
  a sdo:Person ;
  sdo:affiliation [
      sdo:identifier "http://catalogue.linked.data.gov.au/org/ga"^^xsd:anyURI ;
      sdo:name "Geoscience Australia" ;
    ] ;
  sdo:email <mailto:irina.bastrakova@ga.gov.au> ;
  sdo:identifier "https://orcid.org/0000-0002-4643-7289"^^xsd:anyURI ;
  sdo:name "Irina Bastrakova" ;
.
<https://orcid.org/0000-0002-8742-7730>
  a sdo:Person ;
  sdo:affiliation [
      sdo:name "Surround Australia" ;
      sdo:uri <https://surroundaustralia.com/> ;
    ] ;
  sdo:email <mailto:nicholas.car@surroundaustralia.com> ;
  sdo:identifier "https://orcid.org/0000-0002-8742-7730"^^xsd:anyURI ;
  sdo:name "Nicholas J Car" ;
.
<https://orcid.org/0000-0003-3425-0780>
  a sdo:Person ;
  sdo:affiliation [
      sdo:identifier "http://catalogue.linked.data.gov.au/org/anu"^^xsd:anyURI ;
      sdo:name "Australian National University" ;
    ] ;
  sdo:email <mailto:armin.haller@anu.edu.au> ;
  sdo:identifier "https://orcid.org/0000-0003-3425-0780"^^xsd:anyURI ;
  sdo:name "Armin Haller" ;
.
